<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>Hallo Prinzessin â™¡ â€“ Advent 2025</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <style>
    :root {
      --bg: #FFF7FA;
      --card: #FFFFFF;
      --border: #F3D9E6;
      --accent: #D86DA6;
      --text-main: #3B2F33;
      --text-soft: #6A5E63;
      --radius: 8px;
      --transition: 0.18s ease-out;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      background: var(--bg);
      color: var(--text-main);
      font-family: -apple-system, system-ui, "SF Pro Text", "SF Pro Display", sans-serif;
    }

    body {
      padding: calc(18px + env(safe-area-inset-top))
               calc(12px + env(safe-area-inset-right))
               calc(18px + env(safe-area-inset-bottom))
               calc(12px + env(safe-area-inset-left));
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 440px;
    }

    .header {
      margin-bottom: 22px;
    }

    .title {
      font-size: 1.9rem;
      font-weight: 700;
      color: var(--accent);
    }

    .subtitle {
      margin-top: 6px;
      font-size: 1rem;
      line-height: 1.35;
      color: var(--text-soft);
      max-width: 28ch;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .door {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      aspect-ratio: 1 / 1;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--accent);
      cursor: pointer;
      transition: box-shadow var(--transition), transform var(--transition);
    }

    .door:hover {
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      transform: translateY(-2px);
    }

    .door.locked {
      color: #C9C1C6;
      cursor: default;
    }

    .door.locked:hover {
      transform: none;
      box-shadow: none;
    }

    .lock {
      font-size: 0.9rem;
      margin-top: 4px;
      color: #C9C1C6;
    }

    /* Modal */
    .backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      backdrop-filter: blur(6px);
    }

    .backdrop.visible {
      display: flex;
    }

    .modal {
      width: 100%;
      max-width: 420px;
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding-bottom: 12px;
      overflow: hidden;
      position: relative;
    }

    .modal-img {
      width: 100%;
      aspect-ratio: 16/9;
      background: white;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-soft);
      font-size: 0.9rem;
    }

    .modal-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }

    .modal-body {
      padding: 16px 18px;
    }

    .modal-day {
      font-size: 0.85rem;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .modal-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 10px;
    }

    .modal-text {
      font-size: 1rem;
      line-height: 1.45;
      white-space: pre-wrap;
    }

    .close {
      position: absolute;
      top: 14px;
      right: 14px;
      width: 30px;
      height: 30px;
      background: white;
      border-radius: 50%;
      border: 1px solid var(--border);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1rem;
      color: var(--accent);
      cursor: pointer;
    }
  </style>
</head>

<body>
  <main class="app">
    <header class="header">
      <div class="title">Hallo Prinzessin â™¡</div>
      <div class="subtitle">Ein kleiner Adventskalender â€¦ jeden Tag eine Freude nur fÃ¼r dich.</div>
    </header>

    <section class="grid" id="grid"></section>
  </main>

  <div class="backdrop" id="backdrop">
    <div class="modal">
      <div class="modal-img">
        <span id="imgPlaceholder">BILD FOLGT</span>
        <img id="modalImg">
      </div>
      <div class="close" id="closeBtn">Ã—</div>
      <div class="modal-body">
        <div class="modal-day" id="modalDay"></div>
        <div class="modal-title" id="modalTitle"></div>
        <div class="modal-text" id="modalText"></div>
      </div>
    </div>
  </div>

<script>
  const LOCK_BY_DATE = true;
  const YEAR = 2025;

  const entries = [];
  const sampleTexts = [
    "Ein kleiner, stiller Anfang fÃ¼r dich.\nEin Moment nur fÃ¼r dein Herz.",
    "Heute darfst du langsam sein.\nGanz ohne Druck.",
    "Ein winziger Funke Freude â€” nur fÃ¼r dich.",
    "Du musst heute nichts leisten.\nEinfach da sein reicht.",
    "Finde heute ein zartes Highlight\nund halte kurz inne."
  ];

  for (let d = 1; d <= 24; d++) {
    entries.push({
      day: d,
      title: `TÃ¼rchen ${d}`,
      text: sampleTexts[(d-1) % sampleTexts.length],
      image: `images/day${String(d).padStart(2,'0')}.jpg`
    });
  }

  const grid = document.getElementById("grid");
  const backdrop = document.getElementById("backdrop");
  const modalDay = document.getElementById("modalDay");
  const modalTitle = document.getElementById("modalTitle");
  const modalText = document.getElementById("modalText");
  const modalImg = document.getElementById("modalImg");
  const imgPlaceholder = document.getElementById("imgPlaceholder");
  const closeBtn = document.getElementById("closeBtn");

  const now = new Date();
  const isDecember = now.getMonth() === 11;
  const today = isDecember ? now.getDate() : 0;

  function isLocked(day){
    if (!LOCK_BY_DATE) return false;
    if (!isDecember) return true;
    return day > today;
  }

  function openModal(entry){
    modalDay.textContent = `${entry.day}. Dezember`;
    modalTitle.textContent = entry.title;
    modalText.textContent = entry.text;

    modalImg.style.display = "none";
    imgPlaceholder.style.display = "block";
    modalImg.src = entry.image;

    modalImg.onload = () => {
      imgPlaceholder.style.display = "none";
      modalImg.style.display = "block";
    };

    backdrop.classList.add("visible");
  }

  function closeModal(){
    backdrop.classList.remove("visible");
  }

  closeBtn.onclick = closeModal;
  backdrop.onclick = e => { if(e.target === backdrop) closeModal(); };

  entries.forEach(e => {
    const d = document.createElement("div");
    d.className = "door" + (isLocked(e.day) ? " locked" : "");
    d.innerHTML = isLocked(e.day)
      ? `<div>${String(e.day).padStart(2,"0")}</div><div class="lock">ðŸ”’</div>`
      : String(e.day).padStart(2,"0");

    if (!isLocked(e.day)) {
      d.onclick = () => openModal(e);
    }

    grid.appendChild(d);
  });
</script>

</body>
</html>
